<div class="container">
  <h1>Crear Nueva Ruta</h1>

  <form (ngSubmit)="crearRuta()" #rutaForm="ngForm">

    <div class="form-group">
      <label for="nombre">Nombre de la ruta *</label>
      <input 
        type="text"
        id="nombre"
        [(ngModel)]="formulario.rut_nombre"
        name="rut_nombre"
        placeholder="Ej: Ruta del Café"
        required
        class="form-control"
      />
    </div>

    <div class="form-group">
      <label for="descripcion">Descripción *</label>
      <textarea
        id="descripcion"
        [(ngModel)]="formulario.rut_descripcion"
        name="rut_descripcion"
        placeholder="Descripción detallada"
        required
        class="form-control"
      ></textarea>
    </div>

    <div class="form-group">
      <label for="duracion">Duración *</label>
      <input
        type="text"
        id="duracion"
        [(ngModel)]="formulario.rut_duracion"
        name="rut_duracion"
        placeholder="Ej: 4h, 2 días"
        required
        class="form-control"
      />
    </div>

    <div class="form-group">
      <label for="imagen">Imagen (opcional)</label>
      <input
        type="file"
        id="imagen"
        (change)="onImageChange($event)"
        accept="image/*"
        class="form-control"
      />

      <!-- Preview de imagen -->
      <div *ngIf="previewImagen" class="image-preview mt-2">
        <p>Vista previa:</p>
        <img [src]="previewImagen" alt="Preview" />
      </div>
    </div>

    <div *ngIf="error" class="error-message">
      {{ error }}
    </div>

    <div class="actions mt-3">
      <button type="submit" [disabled]="cargando" class="btn btn-success">
        {{ cargando ? 'Creando...' : 'Crear ruta' }}
      </button>
      <button type="button" (click)="cancelar()" class="btn btn-secondary">
        Cancelar
      </button>
    </div>

  </form>
</div>
